# Backend (API + worker)
NODE_ENV=development
PORT=3000

# Postgres
DATABASE_URL=postgresql://justlove:justlove@localhost:5432/justlove?schema=public

# Redis (BullMQ + cache)
REDIS_URL=redis://localhost:6379

# S3-compatible (MinIO local via docker-compose)
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minio
S3_SECRET_KEY=minio123456
S3_REGION=us-east-1
S3_BUCKET=justlove-exports
S3_FORCE_PATH_STYLE=true

# Observability
LOG_LEVEL=info

# Auth OTP
AUTH_OTP_TTL_SECONDS=600
AUTH_OTP_RATE_WINDOW_SECONDS=600
AUTH_OTP_RATE_MAX_PER_EMAIL=3
AUTH_OTP_MAX_ATTEMPTS=5
AUTH_OTP_BACKOFF_MAX_SECONDS=60

# Auth sessions (JWT access + refresh token rotation)
AUTH_JWT_SECRET=dev-secret-change-me
AUTH_ACCESS_TOKEN_TTL_SECONDS=900
AUTH_REFRESH_TOKEN_TTL_SECONDS=2592000

# Admin overrides (comma-separated UUIDs)
ENTITLEMENT_OVERRIDE_PRO_USER_IDS=

# Encryption
# Single key (base64-encoded 32 bytes)
APP_ENCRYPTION_KEY=
# Rotation keyring: "<id>:<base64>,<id>:<base64>" (keep id 0 if you have legacy payloads)
APP_ENCRYPTION_KEYS=
APP_ENCRYPTION_ACTIVE_KEY_ID=

# SnapTrade
SNAPTRADE_CONNECT_URL=https://snaptrade.example/connect

# Sync (dev)
SYNC_MOCK_TRANSACTIONS_JSON=
SYNC_SCHEDULE_EVERY_SECONDS=3600

# FX rates (dev) â€” JSON object mapping currency pairs to rates (e.g. {"CAD_USD":0.75})
FX_RATES_JSON=

# SMTP (Mailhog default: localhost:1025)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_FROM=no-reply@justlovethestocks.local
SMTP_USER=
SMTP_PASS=
